{"ast":null,"code":"class Api {\n  constructor(_ref) {\n    let {\n      baseUrl,\n      headers\n    } = _ref;\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  } //получить ответ\n\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  } //получаем данные пользователя\n\n\n  getUserInfo() {\n    return fetch(this._baseUrl + '/users/me', {\n      method: 'GET',\n      headers: this._headers\n    }).then(this._handleResponse);\n  } //получаем массив карточек\n\n\n  getInitialCards() {\n    return fetch(this._baseUrl + '/cards', {\n      method: 'GET',\n      headers: this._headers\n    }).then(this._handleResponse);\n  } //метод добавления карточки\n\n\n  addNewCard(newCard) {\n    return fetch(this._baseUrl + '/cards/', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: newCard.name,\n        link: newCard.link\n      })\n    }).then(this._handleResponse);\n  } //метод удаления карточки\n\n\n  deleteCard(cardId) {\n    return fetch(this._baseUrl + '/cards/' + `${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(this._handleResponse);\n  } //редактирование данных профайла\n\n\n  patchUserInfo(userInfo) {\n    return fetch(this._baseUrl + '/users/me', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: userInfo.firstname,\n        about: userInfo.about\n      })\n    }).then(this._handleResponse);\n  } //редактирование аватара\n\n\n  pathUserAvatar(userInfo) {\n    return fetch(this._baseUrl + '/users/me/avatar', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: userInfo.avatar\n      })\n    }).then(this._handleResponse);\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    return fetch(this._baseUrl + '/cards/likes/' + `${cardId}`, {\n      method: `${isLiked ? \"PUT\" : \"DELETE\"}`,\n      headers: this._headers\n    }).then(this._handleResponse);\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-42',\n  headers: {\n    authorization: 'e5a37e81-cb9a-4a0e-bacc-f2b0bcf5bc25',\n    'Content-Type': 'application/json'\n  }\n});\nexport default api;","map":{"version":3,"names":["Api","constructor","baseUrl","headers","_baseUrl","_headers","_handleResponse","res","ok","json","Promise","reject","status","getUserInfo","fetch","method","then","getInitialCards","addNewCard","newCard","body","JSON","stringify","name","link","deleteCard","cardId","patchUserInfo","userInfo","firstname","about","pathUserAvatar","avatar","changeLikeCardStatus","isLiked","api","authorization"],"sources":["/Users/Administrator/dev/mesto-react/src/utils/api.js"],"sourcesContent":["class Api {\n    constructor({ baseUrl, headers }) {\n      this._baseUrl = baseUrl;\n      this._headers = headers;\n    }\n\n    //получить ответ\n    _handleResponse(res) {\n        if (res.ok) {\n            return res.json();\n        } else {\n            return Promise.reject(`Ошибка: ${res.status}`);\n        }\n    }\n  //получаем данные пользователя\n    getUserInfo() {\n        return fetch(this._baseUrl + '/users/me', { \n            method: 'GET',\n            headers: this._headers,\n        })\n        .then(this._handleResponse);\n    }\n\n    //получаем массив карточек\n    getInitialCards() {\n        return fetch(this._baseUrl + '/cards', {\n            method: 'GET',\n            headers: this._headers,\n        })\n        .then(this._handleResponse);\n    }\n\n    //метод добавления карточки\n    addNewCard(newCard) {\n        return fetch(this._baseUrl + '/cards/', {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: newCard.name,\n                link: newCard.link\n            }),\n        })\n        .then(this._handleResponse)\n    }\n\n    //метод удаления карточки\n    deleteCard(cardId) {\n        return fetch(this._baseUrl + '/cards/' + `${cardId}`, {\n          method: 'DELETE',\n          headers: this._headers\n        })\n        .then(this._handleResponse)\n    }\n\n    //редактирование данных профайла\n    patchUserInfo(userInfo) {\n        return fetch(this._baseUrl + '/users/me', {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: userInfo.firstname,\n                about: userInfo.about\n            }),\n        })\n        .then(this._handleResponse)\n    }\n\n    //редактирование аватара\n    pathUserAvatar(userInfo) {\n        return fetch(this._baseUrl + '/users/me/avatar', {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                avatar: userInfo.avatar\n            }),\n        })\n        .then(this._handleResponse)\n    }\n\n    changeLikeCardStatus(cardId, isLiked) {\n        return fetch(this._baseUrl + '/cards/likes/' + `${cardId}`, {\n            method: `${isLiked ? \"PUT\" : \"DELETE\"}`,\n            headers: this._headers,\n        })\n        .then(this._handleResponse)\n    }\n}\n\nconst api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-42',\n    headers: {\n        authorization: 'e5a37e81-cb9a-4a0e-bacc-f2b0bcf5bc25',\n        'Content-Type': 'application/json'\n    }\n});\n\nexport default api;"],"mappings":"AAAA,MAAMA,GAAN,CAAU;EACNC,WAAW,OAAuB;IAAA,IAAtB;MAAEC,OAAF;MAAWC;IAAX,CAAsB;IAChC,KAAKC,QAAL,GAAgBF,OAAhB;IACA,KAAKG,QAAL,GAAgBF,OAAhB;EACD,CAJK,CAMN;;;EACAG,eAAe,CAACC,GAAD,EAAM;IACjB,IAAIA,GAAG,CAACC,EAAR,EAAY;MACR,OAAOD,GAAG,CAACE,IAAJ,EAAP;IACH,CAFD,MAEO;MACH,OAAOC,OAAO,CAACC,MAAR,CAAgB,WAAUJ,GAAG,CAACK,MAAO,EAArC,CAAP;IACH;EACJ,CAbK,CAcR;;;EACEC,WAAW,GAAG;IACV,OAAOC,KAAK,CAAC,KAAKV,QAAL,GAAgB,WAAjB,EAA8B;MACtCW,MAAM,EAAE,KAD8B;MAEtCZ,OAAO,EAAE,KAAKE;IAFwB,CAA9B,CAAL,CAINW,IAJM,CAID,KAAKV,eAJJ,CAAP;EAKH,CArBK,CAuBN;;;EACAW,eAAe,GAAG;IACd,OAAOH,KAAK,CAAC,KAAKV,QAAL,GAAgB,QAAjB,EAA2B;MACnCW,MAAM,EAAE,KAD2B;MAEnCZ,OAAO,EAAE,KAAKE;IAFqB,CAA3B,CAAL,CAINW,IAJM,CAID,KAAKV,eAJJ,CAAP;EAKH,CA9BK,CAgCN;;;EACAY,UAAU,CAACC,OAAD,EAAU;IAChB,OAAOL,KAAK,CAAC,KAAKV,QAAL,GAAgB,SAAjB,EAA4B;MACpCW,MAAM,EAAE,MAD4B;MAEpCZ,OAAO,EAAE,KAAKE,QAFsB;MAGpCe,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QACjBC,IAAI,EAAEJ,OAAO,CAACI,IADG;QAEjBC,IAAI,EAAEL,OAAO,CAACK;MAFG,CAAf;IAH8B,CAA5B,CAAL,CAQNR,IARM,CAQD,KAAKV,eARJ,CAAP;EASH,CA3CK,CA6CN;;;EACAmB,UAAU,CAACC,MAAD,EAAS;IACf,OAAOZ,KAAK,CAAC,KAAKV,QAAL,GAAgB,SAAhB,GAA6B,GAAEsB,MAAO,EAAvC,EAA0C;MACpDX,MAAM,EAAE,QAD4C;MAEpDZ,OAAO,EAAE,KAAKE;IAFsC,CAA1C,CAAL,CAINW,IAJM,CAID,KAAKV,eAJJ,CAAP;EAKH,CApDK,CAsDN;;;EACAqB,aAAa,CAACC,QAAD,EAAW;IACpB,OAAOd,KAAK,CAAC,KAAKV,QAAL,GAAgB,WAAjB,EAA8B;MACtCW,MAAM,EAAE,OAD8B;MAEtCZ,OAAO,EAAE,KAAKE,QAFwB;MAGtCe,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QACjBC,IAAI,EAAEK,QAAQ,CAACC,SADE;QAEjBC,KAAK,EAAEF,QAAQ,CAACE;MAFC,CAAf;IAHgC,CAA9B,CAAL,CAQNd,IARM,CAQD,KAAKV,eARJ,CAAP;EASH,CAjEK,CAmEN;;;EACAyB,cAAc,CAACH,QAAD,EAAW;IACrB,OAAOd,KAAK,CAAC,KAAKV,QAAL,GAAgB,kBAAjB,EAAqC;MAC7CW,MAAM,EAAE,OADqC;MAE7CZ,OAAO,EAAE,KAAKE,QAF+B;MAG7Ce,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QACjBU,MAAM,EAAEJ,QAAQ,CAACI;MADA,CAAf;IAHuC,CAArC,CAAL,CAONhB,IAPM,CAOD,KAAKV,eAPJ,CAAP;EAQH;;EAED2B,oBAAoB,CAACP,MAAD,EAASQ,OAAT,EAAkB;IAClC,OAAOpB,KAAK,CAAC,KAAKV,QAAL,GAAgB,eAAhB,GAAmC,GAAEsB,MAAO,EAA7C,EAAgD;MACxDX,MAAM,EAAG,GAAEmB,OAAO,GAAG,KAAH,GAAW,QAAS,EADkB;MAExD/B,OAAO,EAAE,KAAKE;IAF0C,CAAhD,CAAL,CAINW,IAJM,CAID,KAAKV,eAJJ,CAAP;EAKH;;AArFK;;AAwFV,MAAM6B,GAAG,GAAG,IAAInC,GAAJ,CAAQ;EAChBE,OAAO,EAAE,6CADO;EAEhBC,OAAO,EAAE;IACLiC,aAAa,EAAE,sCADV;IAEL,gBAAgB;EAFX;AAFO,CAAR,CAAZ;AAQA,eAAeD,GAAf"},"metadata":{},"sourceType":"module"}